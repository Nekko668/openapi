import{_ as s,c as i,o as a,a6 as t,l as d}from"./chunks/framework.CrBHAFc5.js";const S=JSON.parse('{"title":"服务器信息","description":"","frontmatter":{},"headers":[],"relativePath":"docs/api/info/服务器信息.md","filePath":"docs/api/info/服务器信息.md","lastUpdated":1715742262000}'),r={name:"docs/api/info/服务器信息.md"},e=t(`<h1 id="服务器信息" tabindex="-1"><strong>服务器信息</strong> <a class="header-anchor" href="#服务器信息" aria-label="Permalink to &quot;**服务器信息**&quot;">​</a></h1><h2 id="获取服务器信息" tabindex="-1"><strong>获取服务器信息</strong> <a class="header-anchor" href="#获取服务器信息" aria-label="Permalink to &quot;**获取服务器信息**&quot;">​</a></h2><p><strong>描述：</strong> <code>获取服务器信息</code><br><strong>调用方式：</strong> <code>POST</code><br><strong>接口请求：</strong> <code>https://[server:port]/openapi/v1/server/info</code></p><p><strong>请求参数</strong></p><p>以下请求参数列表仅列出了接口请求参数中Data参数里的JSON 数据参数，HTTP 请求公共参数请参见签名验证章节的 <a href="https://cloud.tencent.com/document/product/1095/42413#.E5.85.AC.E5.85.B1.E5.8F.82.E6.95.B0" target="_blank" rel="noreferrer">公共参数说明</a>。</p><table><thead><tr><th>参数名</th><th>必选</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td></tr></tbody></table><p><strong>返回参数</strong></p><p>以下返回参数列表仅列出了返回参数中Data里的JSON 数据参数，公共返回参数请参见签名验证章节的 <a href="https://cloud.tencent.com/document/product/1095/42413#.E5.85.AC.E5.85.B1.E5.8F.82.E6.95.B0" target="_blank" rel="noreferrer">公共参数说明</a>。</p><table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>mqtt_info</td><td>JSON</td><td>mqtt服务器信息</td></tr><tr><td>+ server</td><td>String</td><td>服务器地址</td></tr><tr><td>+ port</td><td>Int</td><td>端口</td></tr><tr><td>+ user</td><td>String</td><td>帐号</td></tr><tr><td>+ password</td><td>String</td><td>密码</td></tr></tbody></table><p><strong>请求示例</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}</span></span></code></pre></div><p><strong>返回示例</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;error_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;msg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1686110318184</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1686110318184</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;mqtt_info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;server&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxxxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">882</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>error_code 请参见 <strong>错误号 (<a href="/docs/api/接口说明#错误号-error-code-说明">error_code</a>) 定义</strong></p><h2 id="消息订阅接口" tabindex="-1"><strong>消息订阅接口</strong> <a class="header-anchor" href="#消息订阅接口" aria-label="Permalink to &quot;**消息订阅接口**&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p>基于MQTT协议，状态的订阅需要调用状态信息接口后服务器才会推送消息，订阅的时效为2小时，过后需要重新订阅</p></div><p><strong>用户状态消息 (用户/会议设备用户,移动单兵设备)</strong></p>`,17),n=d("p",{user_id:""},"订阅topic: /iactive/openapi/status/user/",-1),o=t("<table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>/iactive/openapi/status/user/{user_id}<br>user_id: 用户ID</td></tr><tr><td>data</td><td>JSON</td><td></td></tr><tr><td>+ user_name</td><td>String</td><td>用户帐号</td></tr><tr><td>+ user_id</td><td>Int</td><td>用户ID</td></tr><tr><td>+ online</td><td>Int</td><td>是否在线 (0: 不在线 1: 在线)</td></tr><tr><td>+ room_id</td><td>Int</td><td>在会的会议室ID， 0: 为不在会</td></tr></tbody></table><p><strong>设备状态消息 (ipc设备)</strong></p>",2),p=d("p",{device_id:""},"订阅topic: /iactive/openapi/status/device/",-1),h=t("<table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>/iactive/openapi/status/device/{device_id} <br>device_id: 设备ID</td></tr><tr><td>data</td><td>json</td><td></td></tr><tr><td>+ device_id<br>+ device_sn</td><td>Int<br>String</td><td>设备ID<br>设备SN</td></tr><tr><td>+ publish</td><td>Int</td><td>有没有被查看</td></tr><tr><td>+ room_id</td><td>Int</td><td>在会的会议室号，0: 不在会</td></tr><tr><td>+ talk_user_id</td><td>Int</td><td>对讲的用户ID 0: 没有对讲</td></tr><tr><td>+ online</td><td>Array</td><td>在线设备信息</td></tr><tr><td>+ offline</td><td>Array</td><td>离线设备信息</td></tr><tr><td>+ onlineEx</td><td>Array</td><td>在线设备入会信息 id: 设备id room: 会议室id</td></tr></tbody></table><p><strong>设备/用户的位置消息</strong></p><p>订阅topic: 同设备/用户状态消息</p><table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>/iactive/openapi/position/[user, device]</td></tr><tr><td>data</td><td>JSON</td><td></td></tr><tr><td>+ device_id<br>+ device_sn<br>+ user_id/user_name</td><td>Int<br>String<br>Int/String</td><td>设备ID<br>设备SN<br>用户ID/用户帐号</td></tr><tr><td>+ Longitude</td><td>Double</td><td>经度</td></tr><tr><td>+ latitude</td><td>Double</td><td>纬度</td></tr><tr><td>+ asl</td><td>Double</td><td>海拔</td></tr><tr><td>+ rlocationX</td><td>Double</td><td>室内定位X坐标</td></tr><tr><td>+ rlocationY</td><td>Double</td><td>室内定位Y坐标</td></tr><tr><td>+ rlocationZ</td><td>Double</td><td>室内定位Z坐标</td></tr><tr><td>+ datetime</td><td>datetime</td><td>时间</td></tr></tbody></table><p><strong>设备/用户的位置消息</strong></p>",5),l=d("p",{deviceId:""},"订阅topic: 同设备/用户状态消息 /ActiveCenter/position/{type}/",-1),c=t("<table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>/ActiveCenter/position/{type}/{deviceId}<br>type: 设备类型 deviceId: 设备ID</td></tr><tr><td>data</td><td>JSON</td><td></td></tr><tr><td>+ dev_type</td><td>Int</td><td>设备类型 5: 移动设备 6: 监控设备</td></tr><tr><td>+ dev_id</td><td>Int</td><td>设备ID</td></tr><tr><td>+ user_id</td><td>Int</td><td>设备帐号ID</td></tr><tr><td>+ arrData</td><td>Array</td><td>信息数组</td></tr><tr><td>++ dataType</td><td>Int</td><td>数据类型 0: GPS信息 1: UWB定位数据</td></tr><tr><td>++ longitude</td><td>Double</td><td>GPS信息 经度</td></tr><tr><td>++ latitude</td><td>Double</td><td>GPS信息 纬度</td></tr><tr><td>++ ASL</td><td>Double</td><td>GPS信息 海拔</td></tr><tr><td>++ card_x</td><td>Double</td><td>UWB数据 x</td></tr><tr><td>++ card_y</td><td>Double</td><td>UWB数据 y</td></tr><tr><td>++ card_z</td><td>Double</td><td>UWB数据 z</td></tr><tr><td>++ rec_server_time_ms</td><td>Int</td><td>时间 ms</td></tr></tbody></table><p><strong>物联网设备指标信息</strong></p><p>订阅topic: 同设备状态消息</p><table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>topic</td><td>String</td><td>/iactive/openapi/status/iot</td></tr><tr><td>data</td><td>JSON</td><td></td></tr><tr><td>+ device_id<br>+ device_sn</td><td>Int<br>String</td><td>设备ID<br>设备SN</td></tr><tr><td>+ arr_vals</td><td>Array</td><td>指标数组</td></tr><tr><td>++ name</td><td>String</td><td>指标名</td></tr><tr><td>++ value</td><td>String</td><td>指标值</td></tr><tr><td>++ datetime</td><td>Datetime</td><td>时间</td></tr></tbody></table>",4),k=[e,n,o,p,h,l,c];function _(E,g,u,b,y,C){return a(),i("div",null,k)}const m=s(r,[["render",_]]);export{S as __pageData,m as default};
