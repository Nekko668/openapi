import{_ as s,c as t,o as i,a6 as a}from"./chunks/framework.CrCe-Drv.js";const c=JSON.parse('{"title":"流服务","description":"","frontmatter":{},"headers":[],"relativePath":"docs/apis/info/流服务.md","filePath":"docs/apis/info/流服务.md","lastUpdated":1715591706000}'),n={name:"docs/apis/info/流服务.md"},p=a(`<h1 id="流服务" tabindex="-1">流服务 <a class="header-anchor" href="#流服务" aria-label="Permalink to &quot;流服务&quot;">​</a></h1><h2 id="获取流通道地址" tabindex="-1"><strong>获取流通道地址</strong> <a class="header-anchor" href="#获取流通道地址" aria-label="Permalink to &quot;**获取流通道地址**&quot;">​</a></h2><p><strong>描述</strong>：<code>获取推流通道</code><br><strong>调用方式：</strong> <code>POST</code><br><strong>接口请求:</strong> <code>https://[server:port]/openapi/v1/stream/get</code></p><p><strong>请求参数</strong></p><p>以下请求参数列表仅列出了接口请求参数中Data参数里的JSON 数据参数，HTTP 请求公共参数请参见签名验证章节的 <a href="https://cloud.tencent.com/document/product/1095/42413#.E5.85.AC.E5.85.B1.E5.8F.82.E6.95.B0" target="_blank" rel="noreferrer">公共参数说明</a>。</p><table><thead><tr><th>参数名</th><th>必选</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>valid_time</td><td>N</td><td>Long</td><td>流地址有效时间 单位秒（不传默认86400，一天）</td></tr></tbody></table><p><strong>返回参数</strong></p><p>以下返回参数列表仅列出了返回参数中Data里的JSON 数据参数，公共返回参数请参见签名验证章节的 <a href="https://cloud.tencent.com/document/product/1095/42413#.E5.85.AC.E5.85.B1.E5.8F.82.E6.95.B0" target="_blank" rel="noreferrer">公共参数说明</a>。</p><table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>result</td><td>Int</td><td></td></tr><tr><td>rtmp</td><td>Array</td><td>推流地址数组</td></tr><tr><td>pull_urls</td><td>Array</td><td>拉流地址数组</td></tr><tr><td>public_token</td><td>String</td><td>public_token</td></tr><tr><td>token</td><td>String</td><td>认证TOKEN</td></tr></tbody></table><p><strong>请求示例</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}</span></span></code></pre></div><p><strong>返回示例</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;error_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;200&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;msg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;rtmp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;rtmp://192.168.9.159:1965/vds/1700194593352370?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;rtmp://58.49.26.147:1965/vds/1700194593352370?token=360601&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;public_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;82ff96320d17c3d9e9f351c9ed0fc84809161752d269cc755030fbf9a7aa7d0ca38edc334b49ac144a70da77681e552a7551ca2d93a50c0bb896a1ea5c1a8e525d5c07bde3378fdd6aa0b4996fbddecd9147fa56d588522b9408a6d448531b92&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;pull_urls&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;rtmp://192.168.9.159:1965/vds/1700194593352370?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;webrtc://192.168.9.159:1975/vds/1700194593352370?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;http://192.168.9.159:8060/vds/1700194593352370.m3u8?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;http://192.168.9.159:8060/vds/1700194593352370.flv?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;rtmp://58.49.26.147:1965/vds/1700194593352370?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;webrtc://58.49.26.147:1975/vds/1700194593352370?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;http://58.49.26.147:8060/vds/1700194593352370.m3u8?token=360601&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;http://58.49.26.147:8060/vds/1700194593352370.flv?token=360601&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;360601&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1700194591971</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>error_code 请参见 <strong>错误号 (<a href="/docs/apis/接口说明#错误号-error-code-说明">error_code</a>) 定义</strong></p><h2 id="请求设备-会议视频流" tabindex="-1"><strong>请求设备/会议视频流</strong> <a class="header-anchor" href="#请求设备-会议视频流" aria-label="Permalink to &quot;**请求设备/会议视频流**&quot;">​</a></h2><p><strong>描述：</strong> <code>获取设备流的信息</code><br><strong>调用方式：</strong> <code>POST</code><br><strong>接口请求：</strong> <code>https://[server:port]/openapi/v1/stream</code></p><p><strong>请求参数</strong></p><p>以下请求参数列表仅列出了接口请求参数中Data参数里的JSON 数据参数，HTTP 请求公共参数请参见签名验证章节的 <a href="https://cloud.tencent.com/document/product/1095/42413#.E5.85.AC.E5.85.B1.E5.8F.82.E6.95.B0" target="_blank" rel="noreferrer">公共参数说明</a>。</p><table><thead><tr><th>参数名</th><th>必选</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>device_id<br>device_sn<br>room_id<br>username</td><td>Y</td><td>Int</td><td>设备ID<br>设备SN<br>会议室ID<br>用户帐号</td></tr><tr><td>channel</td><td>N</td><td>Int</td><td>多路视频源时，指定通道号</td></tr></tbody></table><p><strong>返回参数</strong></p><p>以下返回参数列表仅列出了返回参数中Data里的JSON 数据参数，公共返回参数请参见签名验证章节的 <a href="https://cloud.tencent.com/document/product/1095/42413#.E5.85.AC.E5.85.B1.E5.8F.82.E6.95.B0" target="_blank" rel="noreferrer">公共参数说明</a>。</p><table><thead><tr><th>参数名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>rtmp_url</td><td>String</td><td>rtmp流地址</td></tr><tr><td>hls_url</td><td>String</td><td>hls流地址</td></tr><tr><td>http_flv_url</td><td>String</td><td>http-flv流地址</td></tr><tr><td>webrtc_url</td><td>String</td><td>webrtc流地址</td></tr><tr><td>token</td><td>String</td><td>访问流的token</td></tr><tr><td>status</td><td>Int</td><td>1直播推流成功 2设备正在响应 3连接流媒体服务器失败 4发布流失败</td></tr><tr><td>urls</td><td>Array</td><td>流媒体有多IP（内外网的），所有的流地址</td></tr></tbody></table><p><strong>请求示例</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;device_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>返回示例</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;error_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;msg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1686110318184</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;rtmp_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; rtmp://192.168.9.159:1965/vds/1686189644531390&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;hls_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; http://192.168.9.159:8060/vds/1686189644531390.m3u8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;http_flv_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; http://192.168.9.159:8060/vds/1686189644531390.flv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;webrtc_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webrtc://192.168.9.159:1985/vds/1686189644531390&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">132</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;urls&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;rtmp://58.49.26.147:1965/vds/1686896573248881&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;webrtc://58.49.26.147:1985/vds/1686896573248881&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;http://58.49.26.147:8060/vds/1686896573248881.m3u8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;http://58.49.26.147:8060/vds/1686896573248881.flv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;rtmp://192.168.9.159:1965/vds/1686896573248881&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;webrtc://192.168.9.159:1985/vds/1686896573248881&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;http://192.168.9.159:8060/vds/1686896573248881.m3u8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;http://192.168.9.159:8060/vds/1686896573248881.flv&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>error_code 请参见 <strong>错误号 (<a href="/docs/apis/接口说明#错误号-error-code-说明">error_code</a>) 定义</strong></p>`,27),h=[p];function l(e,k,d,r,o,E){return i(),t("div",null,h)}const u=s(n,[["render",l]]);export{c as __pageData,u as default};
